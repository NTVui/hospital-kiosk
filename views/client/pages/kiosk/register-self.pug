extends ../../layouts/default.pug
include ../../mixins/alert.pug
include ../../mixins/progress-steps.pug

block main
  +progressbar(currentStep, 2)
  .container.my-5
    h2 🏥 Lựa chọn dịch vụ khám

    form(method="POST", action=`/API/v1/kiosk/step-2/register-self/${cccd}`)
      input(type="hidden", name="clinicId", id="clinicId")
      .grid
        each service in services
          if service.clinic_id
            label.card
              input(
                type="radio", 
                name="serviceId", 
                value=service._id, 
                data-clinic-id=service.clinic_id._id, 
                required
              )
              .card-content
                h4.card-title= `PK ${service.clinic_id.tenPhongKham} - ${service.tenDichVu}`
                p.card-subtitle= `Giá: ${service.price} VNĐ`
              

      button.btn.btn-primary(type="submit") Đăng ký khám

  script.
    document.querySelectorAll("input[name='serviceId']").forEach(radio => {
      radio.addEventListener("change", function() {
        document.getElementById("clinicId").value = this.dataset.clinicId;
      });
    });

